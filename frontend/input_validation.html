<!DOCTYPE html>
<html lang="en-gb">
  <head>    
    <meta charset="utf-8">
    <title>QUIPP parameters</title>    
  </head>

  <body>
    <div id="app" class="container"></div>

    <!-- bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap-theme.min.css" integrity="sha384-6pzBo3FDv/PJ8r2KRkGHifhEocL+1X2rVCTTkUfGk7/0pbek5mMa1upzvWbrUbOZ" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>

    <!-- react -->
    <script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>

    <!-- react-jsonschema-form -->
    <script src="https://unpkg.com/react-jsonschema-form/dist/react-jsonschema-form.js" crossorigin></script>

    <script>
        const Form = JSONSchemaForm.default;
const schema = {{ input_schema }}

// const log = (type) => console.log.bind(console, type);

function download(filename, text) {
  var element = document.createElement('a');
  element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));
  element.setAttribute('download', filename);

  element.style.display = 'none';
  document.body.appendChild(element);

  element.click();

  document.body.removeChild(element);
}

ReactDOM.render(
    React.createElement(Form, {
        schema: schema,
        onSubmit: (input) =>
            download("example.json", JSON.stringify(input.formData, null, 4)),
    }),
    document.getElementById("app"));

    </script>
  </body>
</html>
